package data;

import java.util.ArrayList;
import static helpers.Clock.*;

public class Wave {

	private float timeSinceLastSpawn, spawnTime;
	private Enemy enemyType;
	private ArrayList<Enemy> enemyList;
	private int enemiesPerWave;
	
	public Wave( Enemy enemyType,float spawnTime, int enemiesPerWave){
		this.enemiesPerWave = enemiesPerWave;
		this.enemyType = enemyType;
		this.spawnTime = spawnTime;
		enemyList = new ArrayList<Enemy>();
		
		spawn();
	}
	
	public void update(){
		timeSinceLastSpawn += delta();
		if(timeSinceLastSpawn > spawnTime){
			spawn();
			timeSinceLastSpawn = 0;
		}
		
		for(Enemy e : enemyList){
			if(e.isAlive()){
				e.update();
				e.draw();
			}
		}
	}
	
	private void spawn(){
		enemyList.add(new Enemy(enemyType.getTexture(),enemyType.getStartTile(),enemyType.getTileGrid(),64,64,enemyType.getSpeed()));
	}
}
